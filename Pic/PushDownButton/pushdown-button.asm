	LIST P=16F877A
	INCLUDE "P16F877A.INC"
	CBLOCK 0x20
		ledstatus
	ENDC

#DEFINE BTTN PORTB,0

	ORG 0x00
	GOTO START


START
	CLRF PORTB
	CLRF PORTD
	BSF STATUS,5
	MOVLW b'00000001'
	MOVWF TRISB
	CLRF TRISD
	BCF STATUS,5

	MOVLW b'10101010'
	MOVWF ledstatus

CHECK
	
	BTFSC BTTN
	GOTO SWITCH
	BTFSC ledstatus,0
	BSF PORTD,0
	BTFSS ledstatus,0
	BCF PORTD,0
	GOTO CHECK

SWITCH
WFRELEASE
	BTFSC BTTN
	GOTO WFRELEASE
	RRF ledstatus, 1

	GOTO CHECK
	

END
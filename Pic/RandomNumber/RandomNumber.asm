	LIST P=16F877A
	INCLUDE "P16F877A.INC"


#DEFINE BTTN PORTB,0

	ORG 0x00
	GOTO START


START
	CLRF PORTB
	CLRF PORTD
	BSF STATUS,5
	MOVLW b'00000001'
	MOVWF TRISB
	CLRF TRISD

	CLRWDT
	MOVLW b'11010111'
	MOVWF OPTION_REG
	BCF STATUS,5


CHECK
	
	BTFSC BTTN
	GOTO SWITCH
	GOTO CHECK

SWITCH
WFRELEASE
	BTFSC BTTN
	GOTO WFRELEASE
	MOVF TMR0, 0
	MOVWF PORTD
	

	GOTO CHECK
	
END